(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function I(){}function Me(e){return e()}function me(){return Object.create(null)}function B(e){e.forEach(Me)}function Le(e){return typeof e=="function"}function Se(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Oe(e){return Object.keys(e).length===0}function Pe(e,...t){if(e==null)return I;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function qe(e,t,n){e.$$.on_destroy.push(Pe(t,n))}function ge(e){return e==null?"":e}function i(e,t){e.appendChild(t)}function se(e,t,n){e.insertBefore(t,n||null)}function ee(e){e.parentNode&&e.parentNode.removeChild(e)}function k(e){return document.createElement(e)}function M(e){return document.createTextNode(e)}function O(){return M(" ")}function j(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function Ie(e){return function(t){return t.preventDefault(),e.call(this,t)}}function w(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function je(e){return Array.from(e.childNodes)}function J(e,t){t=""+t,e.data!==t&&(e.data=t)}function be(e,t){e.value=t==null?"":t}function ke(e,t,n,l){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function ye(e,t,n){for(let l=0;l<e.options.length;l+=1){const o=e.options[l];if(o.__value===t){o.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Fe(e){const t=e.querySelector(":checked");return t&&t.__value}function F(e,t,n){e.classList[n?"add":"remove"](t)}let W;function V(e){W=e}function ze(){if(!W)throw new Error("Function called outside component initialization");return W}function Ue(e){ze().$$.on_mount.push(e)}const K=[],ve=[];let Q=[];const we=[],Be=Promise.resolve();let ie=!1;function Ge(){ie||(ie=!0,Be.then(De))}function x(e){Q.push(e)}const oe=new Set;let G=0;function De(){if(G!==0)return;const e=W;do{try{for(;G<K.length;){const t=K[G];G++,V(t),He(t.$$)}}catch(t){throw K.length=0,G=0,t}for(V(null),K.length=0,G=0;ve.length;)ve.pop()();for(let t=0;t<Q.length;t+=1){const n=Q[t];oe.has(n)||(oe.add(n),n())}Q.length=0}while(K.length);for(;we.length;)we.pop()();ie=!1,oe.clear(),V(e)}function He(e){if(e.fragment!==null){e.update(),B(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(x)}}function Ke(e){const t=[],n=[];Q.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),Q=t}const Je=new Set;function Ne(e,t){e&&e.i&&(Je.delete(e),e.i(t))}function Qe(e,t){e.d(1),t.delete(e.key)}function Re(e,t,n,l,o,r,d,u,_,s,L,a){let h=e.length,m=r.length,g=h;const D={};for(;g--;)D[e[g].key]=g;const $=[],N=new Map,T=new Map,E=[];for(g=m;g--;){const c=a(o,r,g),b=n(c);let v=d.get(b);v?l&&E.push(()=>v.p(c,t)):(v=s(b,c),v.c()),N.set(b,$[g]=v),b in D&&T.set(b,Math.abs(g-D[b]))}const f=new Set,y=new Set;function A(c){Ne(c,1),c.m(u,L),d.set(c.key,c),L=c.first,m--}for(;h&&m;){const c=$[m-1],b=e[h-1],v=c.key,z=b.key;c===b?(L=c.first,h--,m--):N.has(z)?!d.has(v)||f.has(v)?A(c):y.has(z)?h--:T.get(v)>T.get(z)?(y.add(v),A(c)):(f.add(z),h--):(_(b,d),h--)}for(;h--;){const c=e[h];N.has(c.key)||_(c,d)}for(;m;)A($[m-1]);return B(E),$}function Ve(e,t,n,l){const{fragment:o,after_update:r}=e.$$;o&&o.m(t,n),l||x(()=>{const d=e.$$.on_mount.map(Me).filter(Le);e.$$.on_destroy?e.$$.on_destroy.push(...d):B(d),e.$$.on_mount=[]}),r.forEach(x)}function We(e,t){const n=e.$$;n.fragment!==null&&(Ke(n.after_update),B(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Xe(e,t){e.$$.dirty[0]===-1&&(K.push(e),Ge(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ye(e,t,n,l,o,r,d,u=[-1]){const _=W;V(e);const s=e.$$={fragment:null,ctx:[],props:r,update:I,not_equal:o,bound:me(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(_?_.$$.context:[])),callbacks:me(),dirty:u,skip_bound:!1,root:t.target||_.$$.root};d&&d(s.root);let L=!1;if(s.ctx=n?n(e,t.props||{},(a,h,...m)=>{const g=m.length?m[0]:h;return s.ctx&&o(s.ctx[a],s.ctx[a]=g)&&(!s.skip_bound&&s.bound[a]&&s.bound[a](g),L&&Xe(e,a)),h}):[],s.update(),L=!0,B(s.before_update),s.fragment=l?l(s.ctx):!1,t.target){if(t.hydrate){const a=je(t.target);s.fragment&&s.fragment.l(a),a.forEach(ee)}else s.fragment&&s.fragment.c();t.intro&&Ne(e.$$.fragment),Ve(e,t.target,t.anchor,t.customElement),De()}V(_)}class Ze{$destroy(){We(this,1),this.$destroy=I}$on(t,n){if(!Le(n))return I;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!Oe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function xe(e){return window.go.internal.App.CreateTask(e)}function et(e){return window.go.internal.App.DeleteTask(e)}function tt(){return window.go.internal.App.GetTasks()}function nt(e){return window.go.internal.App.UpdateTask(e)}const H=[];function lt(e,t=I){let n;const l=new Set;function o(u){if(Se(e,u)&&(e=u,n)){const _=!H.length;for(const s of l)s[1](),H.push(s,e);if(_){for(let s=0;s<H.length;s+=2)H[s][0](H[s+1]);H.length=0}}}function r(u){o(u(e))}function d(u,_=I){const s=[u,_];return l.add(s),l.size===1&&(n=t(o)||I),u(e),()=>{l.delete(s),l.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:d}}function Ce(e,t,n){const l=e.slice();return l[17]=t[n],l}function $e(e,t){let n,l,o=t[17].title+"",r,d,u=t[17].priority+"",_,s,L,a,h,m=t[17].isCompleted?"Mark Incomplete":"Mark Complete",g,D,$,N,T,E,f;function y(){return t[14](t[17])}function A(){return t[15](t[17])}return{key:e,first:null,c(){n=k("li"),l=k("span"),r=M(o),d=M("      ("),_=M(u),s=M(")"),L=O(),a=k("div"),h=k("button"),g=M(m),D=O(),$=k("button"),$.textContent="Delete",N=O(),w(l,"class","task-content svelte-1h431u8"),w(h,"class","svelte-1h431u8"),w($,"class","delete svelte-1h431u8"),w(a,"class","task-actions svelte-1h431u8"),w(n,"class",T=ge(t[17].priority)+" svelte-1h431u8"),ke(n,"background-color",t[17].priority),F(n,"completed",t[17].isCompleted),this.first=n},m(c,b){se(c,n,b),i(n,l),i(l,r),i(l,d),i(l,_),i(l,s),i(n,L),i(n,a),i(a,h),i(h,g),i(a,D),i(a,$),i(n,N),E||(f=[j(h,"click",y),j($,"click",A)],E=!0)},p(c,b){t=c,b&16&&o!==(o=t[17].title+"")&&J(r,o),b&16&&u!==(u=t[17].priority+"")&&J(_,u),b&16&&m!==(m=t[17].isCompleted?"Mark Incomplete":"Mark Complete")&&J(g,m),b&16&&T!==(T=ge(t[17].priority)+" svelte-1h431u8")&&w(n,"class",T),b&16&&ke(n,"background-color",t[17].priority),b&16&&F(n,"completed",t[17].isCompleted)},d(c){c&&ee(n),E=!1,B(f)}}}function Te(e){let t;return{c(){t=k("p"),t.textContent="No tasks found for the current filter."},m(n,l){se(n,t,l)},d(n){n&&ee(t)}}}function ot(e){let t,n,l,o,r,d,u,_,s,L,a,h,m,g,D,$,N,T,E,f,y=e[1].length+"",A,c,b,v,z,X=e[1].filter(Ee).length+"",te,re,ue,q,ce,Y=e[1].filter(Ae).length+"",ne,ae,fe,R,P=[],de=new Map,he,le,pe,Z=e[4];const _e=p=>p[17].id;for(let p=0;p<Z.length;p+=1){let C=Ce(e,Z,p),U=_e(C);de.set(U,P[p]=$e(U,C))}let S=e[4].length===0&&Te();return{c(){t=k("main"),n=k("h1"),n.textContent="Task List",l=O(),o=k("form"),r=k("label"),d=M(`Task
      `),u=k("input"),_=O(),s=k("label"),L=M(`Priority
      `),a=k("select"),h=k("option"),h.textContent="High",m=k("option"),m.textContent="Medium",g=k("option"),g.textContent="Low",D=O(),$=k("button"),$.textContent="Add Task",N=O(),T=k("div"),E=k("button"),f=M("All ("),A=M(y),c=M(")"),b=O(),v=k("button"),z=M("To Do ("),te=M(X),re=M(")"),ue=O(),q=k("button"),ce=M("Done ("),ne=M(Y),ae=M(")"),fe=O(),R=k("ul");for(let p=0;p<P.length;p+=1)P[p].c();he=O(),S&&S.c(),w(u,"name","newTask"),w(u,"placeholder","Enter task name"),w(u,"class","svelte-1h431u8"),w(r,"class","svelte-1h431u8"),h.__value="high",h.value=h.__value,m.__value="medium",m.value=m.__value,g.__value="low",g.value=g.__value,w(a,"class","svelte-1h431u8"),e[2]===void 0&&x(()=>e[10].call(a)),w(s,"class","svelte-1h431u8"),w($,"type","submit"),w($,"class","svelte-1h431u8"),w(o,"class","svelte-1h431u8"),w(E,"class","svelte-1h431u8"),F(E,"active",e[0]==="all"),w(v,"class","svelte-1h431u8"),F(v,"active",e[0]==="todo"),w(q,"class","svelte-1h431u8"),F(q,"active",e[0]==="done"),w(R,"class","svelte-1h431u8"),w(t,"class","svelte-1h431u8")},m(p,C){se(p,t,C),i(t,n),i(t,l),i(t,o),i(o,r),i(r,d),i(r,u),be(u,e[3]),i(o,_),i(o,s),i(s,L),i(s,a),i(a,h),i(a,m),i(a,g),ye(a,e[2],!0),i(o,D),i(o,$),i(t,N),i(t,T),i(T,E),i(E,f),i(E,A),i(E,c),i(T,b),i(T,v),i(v,z),i(v,te),i(v,re),i(T,ue),i(T,q),i(q,ce),i(q,ne),i(q,ae),i(t,fe),i(t,R);for(let U=0;U<P.length;U+=1)P[U]&&P[U].m(R,null);i(t,he),S&&S.m(t,null),le||(pe=[j(u,"input",e[9]),j(a,"change",e[10]),j(o,"submit",Ie(e[7])),j(E,"click",e[11]),j(v,"click",e[12]),j(q,"click",e[13])],le=!0)},p(p,[C]){C&8&&u.value!==p[3]&&be(u,p[3]),C&4&&ye(a,p[2]),C&2&&y!==(y=p[1].length+"")&&J(A,y),C&1&&F(E,"active",p[0]==="all"),C&2&&X!==(X=p[1].filter(Ee).length+"")&&J(te,X),C&1&&F(v,"active",p[0]==="todo"),C&2&&Y!==(Y=p[1].filter(Ae).length+"")&&J(ne,Y),C&1&&F(q,"active",p[0]==="done"),C&336&&(Z=p[4],P=Re(P,C,_e,1,p,Z,de,R,Qe,$e,null,Ce)),p[4].length===0?S||(S=Te(),S.c(),S.m(t,null)):S&&(S.d(1),S=null)},i:I,o:I,d(p){p&&ee(t);for(let C=0;C<P.length;C+=1)P[C].d();S&&S.d(),le=!1,B(pe)}}}const Ee=e=>!e.isCompleted,Ae=e=>e.isCompleted;function it(e,t,n){let l,o;const r=lt([]);qe(e,r,f=>n(1,o=f));let d="medium",u="",_="all";Ue(async()=>{const y=(await tt()).map(A=>({...A,completed:A.isCompleted}));r.set(y)});const s=f=>{const y=o.find(A=>A.id===f.id);!y||(r.update(A=>A.map(c=>c.id===f.id?{...c,isCompleted:!y.isCompleted}:c)),nt(f.id))},L=()=>Date.now().toString(),a=async()=>{if(u.trim()){const f={id:L(),title:u.trim(),priority:d,isCompleted:!1};r.update(y=>[...y,f]),await xe({id:f.id,title:f.title,priority:f.priority}),n(3,u="")}},h=async f=>{try{await et(f),r.update(y=>y.filter(A=>A.id!==f))}catch(y){console.error("Failed to delete task:",y)}};function m(){u=this.value,n(3,u)}function g(){d=Fe(this),n(2,d)}const D=()=>n(0,_="all"),$=()=>n(0,_="todo"),N=()=>n(0,_="done"),T=f=>s(f),E=f=>h(f.id);return e.$$.update=()=>{e.$$.dirty&3&&n(4,l=o.filter(f=>{if(_==="all")return!0;if(_==="done")return f.isCompleted;if(_==="todo")return!f.isCompleted}))},[_,o,d,u,l,r,s,a,h,m,g,D,$,N,T,E]}class st extends Ze{constructor(t){super(),Ye(this,t,it,ot,Se,{})}}new st({target:document.getElementById("app")});
