(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();function I(){}function Me(e){return e()}function me(){return Object.create(null)}function B(e){e.forEach(Me)}function Ae(e){return typeof e=="function"}function Le(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ne(e){return Object.keys(e).length===0}function Oe(e,...t){if(e==null)return I;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Pe(e,t,n){e.$$.on_destroy.push(Oe(t,n))}function ge(e){return e==null?"":e}function i(e,t){e.appendChild(t)}function se(e,t,n){e.insertBefore(t,n||null)}function ee(e){e.parentNode&&e.parentNode.removeChild(e)}function v(e){return document.createElement(e)}function E(e){return document.createTextNode(e)}function N(){return E(" ")}function j(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function Ie(e){return function(t){return t.preventDefault(),e.call(this,t)}}function w(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function je(e){return Array.from(e.childNodes)}function J(e,t){t=""+t,e.data!==t&&(e.data=t)}function be(e,t){e.value=t==null?"":t}function ve(e,t,n){for(let o=0;o<e.options.length;o+=1){const l=e.options[o];if(l.__value===t){l.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Fe(e){const t=e.querySelector(":checked");return t&&t.__value}function F(e,t,n){e.classList[n?"add":"remove"](t)}let W;function V(e){W=e}function ze(){if(!W)throw new Error("Function called outside component initialization");return W}function Ue(e){ze().$$.on_mount.push(e)}const K=[],ke=[];let Q=[];const ye=[],Be=Promise.resolve();let ie=!1;function Ge(){ie||(ie=!0,Be.then(Se))}function x(e){Q.push(e)}const oe=new Set;let G=0;function Se(){if(G!==0)return;const e=W;do{try{for(;G<K.length;){const t=K[G];G++,V(t),He(t.$$)}}catch(t){throw K.length=0,G=0,t}for(V(null),K.length=0,G=0;ke.length;)ke.pop()();for(let t=0;t<Q.length;t+=1){const n=Q[t];oe.has(n)||(oe.add(n),n())}Q.length=0}while(K.length);for(;ye.length;)ye.pop()();ie=!1,oe.clear(),V(e)}function He(e){if(e.fragment!==null){e.update(),B(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(x)}}function Ke(e){const t=[],n=[];Q.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),Q=t}const Je=new Set;function De(e,t){e&&e.i&&(Je.delete(e),e.i(t))}function Qe(e,t){e.d(1),t.delete(e.key)}function Re(e,t,n,o,l,r,d,u,h,s,$,a){let p=e.length,m=r.length,g=p;const A={};for(;g--;)A[e[g].key]=g;const M=[],L=new Map,q=new Map,T=[];for(g=m;g--;){const c=a(l,r,g),S=n(c);let y=d.get(S);y?o&&T.push(()=>y.p(c,t)):(y=s(S,c),y.c()),L.set(S,M[g]=y),S in A&&q.set(S,Math.abs(g-A[S]))}const f=new Set,k=new Set;function b(c){De(c,1),c.m(u,$),d.set(c.key,c),$=c.first,m--}for(;p&&m;){const c=M[m-1],S=e[p-1],y=c.key,z=S.key;c===S?($=c.first,p--,m--):L.has(z)?!d.has(y)||f.has(y)?b(c):k.has(z)?p--:q.get(y)>q.get(z)?(k.add(y),b(c)):(f.add(z),p--):(h(S,d),p--)}for(;p--;){const c=e[p];L.has(c.key)||h(c,d)}for(;m;)b(M[m-1]);return B(T),M}function Ve(e,t,n,o){const{fragment:l,after_update:r}=e.$$;l&&l.m(t,n),o||x(()=>{const d=e.$$.on_mount.map(Me).filter(Ae);e.$$.on_destroy?e.$$.on_destroy.push(...d):B(d),e.$$.on_mount=[]}),r.forEach(x)}function We(e,t){const n=e.$$;n.fragment!==null&&(Ke(n.after_update),B(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Xe(e,t){e.$$.dirty[0]===-1&&(K.push(e),Ge(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ye(e,t,n,o,l,r,d,u=[-1]){const h=W;V(e);const s=e.$$={fragment:null,ctx:[],props:r,update:I,not_equal:l,bound:me(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(h?h.$$.context:[])),callbacks:me(),dirty:u,skip_bound:!1,root:t.target||h.$$.root};d&&d(s.root);let $=!1;if(s.ctx=n?n(e,t.props||{},(a,p,...m)=>{const g=m.length?m[0]:p;return s.ctx&&l(s.ctx[a],s.ctx[a]=g)&&(!s.skip_bound&&s.bound[a]&&s.bound[a](g),$&&Xe(e,a)),p}):[],s.update(),$=!0,B(s.before_update),s.fragment=o?o(s.ctx):!1,t.target){if(t.hydrate){const a=je(t.target);s.fragment&&s.fragment.l(a),a.forEach(ee)}else s.fragment&&s.fragment.c();t.intro&&De(e.$$.fragment),Ve(e,t.target,t.anchor,t.customElement),Se()}V(h)}class Ze{$destroy(){We(this,1),this.$destroy=I}$on(t,n){if(!Ae(n))return I;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const l=o.indexOf(n);l!==-1&&o.splice(l,1)}}$set(t){this.$$set&&!Ne(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function xe(e){return window.go.internal.App.CreateTask(e)}function et(e){return window.go.internal.App.DeleteTask(e)}function tt(){return window.go.internal.App.GetTasks()}function nt(e){return window.go.internal.App.UpdateTask(e)}const H=[];function lt(e,t=I){let n;const o=new Set;function l(u){if(Le(e,u)&&(e=u,n)){const h=!H.length;for(const s of o)s[1](),H.push(s,e);if(h){for(let s=0;s<H.length;s+=2)H[s][0](H[s+1]);H.length=0}}}function r(u){l(u(e))}function d(u,h=I){const s=[u,h];return o.add(s),o.size===1&&(n=t(l)||I),u(e),()=>{o.delete(s),o.size===0&&n&&(n(),n=null)}}return{set:l,update:r,subscribe:d}}function we(e,t,n){const o=e.slice();return o[17]=t[n],o}function Ce(e,t){let n,o,l=t[17].title+"",r,d,u=t[17].priority+"",h,s,$,a,p=t[17].isCompleted?"Mark Incomplete":"Mark Complete",m,g,A,M,L,q,T;function f(){return t[14](t[17])}function k(){return t[15](t[17])}return{key:e,first:null,c(){n=v("li"),o=v("span"),r=E(l),d=E(" - Priority: "),h=E(u),s=N(),$=v("div"),a=v("button"),m=E(p),g=N(),A=v("button"),A.textContent="Delete",M=N(),w(o,"class","task-content svelte-1noveqb"),w(a,"class","svelte-1noveqb"),w(A,"class","delete svelte-1noveqb"),w($,"class","task-actions svelte-1noveqb"),w(n,"class",L=ge(qe(t[17].priority))+" svelte-1noveqb"),F(n,"completed",t[17].isCompleted),this.first=n},m(b,c){se(b,n,c),i(n,o),i(o,r),i(o,d),i(o,h),i(n,s),i(n,$),i($,a),i(a,m),i($,g),i($,A),i(n,M),q||(T=[j(a,"click",f),j(A,"click",k)],q=!0)},p(b,c){t=b,c&16&&l!==(l=t[17].title+"")&&J(r,l),c&16&&u!==(u=t[17].priority+"")&&J(h,u),c&16&&p!==(p=t[17].isCompleted?"Mark Incomplete":"Mark Complete")&&J(m,p),c&16&&L!==(L=ge(qe(t[17].priority))+" svelte-1noveqb")&&w(n,"class",L),c&16&&F(n,"completed",t[17].isCompleted)},d(b){b&&ee(n),q=!1,B(T)}}}function $e(e){let t;return{c(){t=v("p"),t.textContent="No tasks found for the current filter."},m(n,o){se(n,t,o)},d(n){n&&ee(t)}}}function ot(e){let t,n,o,l,r,d,u,h,s,$,a,p,m,g,A,M,L,q,T,f,k=e[1].length+"",b,c,S,y,z,X=e[1].filter(Te).length+"",te,re,ue,P,ce,Y=e[1].filter(Ee).length+"",ne,ae,fe,R,O=[],de=new Map,pe,le,_e,Z=e[4];const he=_=>_[17].id;for(let _=0;_<Z.length;_+=1){let C=we(e,Z,_),U=he(C);de.set(U,O[_]=Ce(U,C))}let D=e[4].length===0&&$e();return{c(){t=v("main"),n=v("h1"),n.textContent="Task List",o=N(),l=v("form"),r=v("label"),d=E(`Task
      `),u=v("input"),h=N(),s=v("label"),$=E(`Priority
      `),a=v("select"),p=v("option"),p.textContent="High",m=v("option"),m.textContent="Medium",g=v("option"),g.textContent="Low",A=N(),M=v("button"),M.textContent="Add Task",L=N(),q=v("div"),T=v("button"),f=E("All ("),b=E(k),c=E(")"),S=N(),y=v("button"),z=E("To Do ("),te=E(X),re=E(")"),ue=N(),P=v("button"),ce=E("Done ("),ne=E(Y),ae=E(")"),fe=N(),R=v("ul");for(let _=0;_<O.length;_+=1)O[_].c();pe=N(),D&&D.c(),w(u,"name","newTask"),w(u,"placeholder","Enter task name"),w(u,"class","svelte-1noveqb"),w(r,"class","svelte-1noveqb"),p.__value="High",p.value=p.__value,m.__value="Medium",m.value=m.__value,g.__value="Low",g.value=g.__value,w(a,"class","svelte-1noveqb"),e[2]===void 0&&x(()=>e[10].call(a)),w(s,"class","svelte-1noveqb"),w(M,"type","submit"),w(M,"class","svelte-1noveqb"),w(l,"class","svelte-1noveqb"),w(T,"class","svelte-1noveqb"),F(T,"active",e[0]==="all"),w(y,"class","svelte-1noveqb"),F(y,"active",e[0]==="todo"),w(P,"class","svelte-1noveqb"),F(P,"active",e[0]==="done"),w(R,"class","svelte-1noveqb"),w(t,"class","svelte-1noveqb")},m(_,C){se(_,t,C),i(t,n),i(t,o),i(t,l),i(l,r),i(r,d),i(r,u),be(u,e[3]),i(l,h),i(l,s),i(s,$),i(s,a),i(a,p),i(a,m),i(a,g),ve(a,e[2],!0),i(l,A),i(l,M),i(t,L),i(t,q),i(q,T),i(T,f),i(T,b),i(T,c),i(q,S),i(q,y),i(y,z),i(y,te),i(y,re),i(q,ue),i(q,P),i(P,ce),i(P,ne),i(P,ae),i(t,fe),i(t,R);for(let U=0;U<O.length;U+=1)O[U]&&O[U].m(R,null);i(t,pe),D&&D.m(t,null),le||(_e=[j(u,"input",e[9]),j(a,"change",e[10]),j(l,"submit",Ie(e[7])),j(T,"click",e[11]),j(y,"click",e[12]),j(P,"click",e[13])],le=!0)},p(_,[C]){C&8&&u.value!==_[3]&&be(u,_[3]),C&4&&ve(a,_[2]),C&2&&k!==(k=_[1].length+"")&&J(b,k),C&1&&F(T,"active",_[0]==="all"),C&2&&X!==(X=_[1].filter(Te).length+"")&&J(te,X),C&1&&F(y,"active",_[0]==="todo"),C&2&&Y!==(Y=_[1].filter(Ee).length+"")&&J(ne,Y),C&1&&F(P,"active",_[0]==="done"),C&336&&(Z=_[4],O=Re(O,C,he,1,_,Z,de,R,Qe,Ce,null,we)),_[4].length===0?D||(D=$e(),D.c(),D.m(t,null)):D&&(D.d(1),D=null)},i:I,o:I,d(_){_&&ee(t);for(let C=0;C<O.length;C+=1)O[C].d();D&&D.d(),le=!1,B(_e)}}}function qe(e){switch(e){case"high":return"red";case"medium":return"orange";case"low":return"green";default:return"gray"}}const Te=e=>!e.isCompleted,Ee=e=>e.isCompleted;function it(e,t,n){let o,l;const r=lt([]);Pe(e,r,f=>n(1,l=f));let d="Medium",u="",h="all";Ue(async()=>{const k=(await tt()).map(b=>({...b,completed:b.isCompleted}));r.set(k)});const s=f=>{const k=l.find(b=>b.id===f.id);!k||(r.update(b=>b.map(c=>c.id===f.id?{...c,isCompleted:!k.isCompleted}:c)),nt(f.id))},$=()=>Date.now().toString(),a=async()=>{if(u.trim()){const f={id:$(),title:u.trim(),priority:d,isCompleted:!1};r.update(k=>[...k,f]),await xe({id:f.id,title:f.title,priority:f.priority}),n(3,u="")}},p=async f=>{try{await et(f),r.update(k=>k.filter(b=>b.id!==f))}catch(k){console.error("Failed to delete task:",k)}};function m(){u=this.value,n(3,u)}function g(){d=Fe(this),n(2,d)}const A=()=>n(0,h="all"),M=()=>n(0,h="todo"),L=()=>n(0,h="done"),q=f=>s(f),T=f=>p(f.id);return e.$$.update=()=>{e.$$.dirty&3&&n(4,o=l.filter(f=>{if(h==="all")return!0;if(h==="done")return f.isCompleted;if(h==="todo")return!f.isCompleted}))},[h,l,d,u,o,r,s,a,p,m,g,A,M,L,q,T]}class st extends Ze{constructor(t){super(),Ye(this,t,it,ot,Le,{})}}new st({target:document.getElementById("app")});
