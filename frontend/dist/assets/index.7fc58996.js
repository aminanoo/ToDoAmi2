(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function U(){}function De(e){return e()}function we(){return Object.create(null)}function G(e){e.forEach(De)}function Ne(e){return typeof e=="function"}function qe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function je(e){return Object.keys(e).length===0}function Fe(e,...t){if(e==null)return U;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ze(e,t,n){e.$$.on_destroy.push(Fe(t,n))}function Ce(e){return e==null?"":e}function i(e,t){e.appendChild(t)}function fe(e,t,n){e.insertBefore(t,n||null)}function le(e){e.parentNode&&e.parentNode.removeChild(e)}function k(e){return document.createElement(e)}function E(e){return document.createTextNode(e)}function P(){return E(" ")}function I(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function Be(e){return function(t){return t.preventDefault(),e.call(this,t)}}function v(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ge(e){return Array.from(e.childNodes)}function B(e,t){t=""+t,e.data!==t&&(e.data=t)}function Te(e,t){e.value=t==null?"":t}function ce(e,t,n,l){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function $e(e,t,n){for(let l=0;l<e.options.length;l+=1){const o=e.options[l];if(o.__value===t){o.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function He(e){const t=e.querySelector(":checked");return t&&t.__value}function j(e,t,n){e.classList[n?"add":"remove"](t)}let X;function W(e){X=e}function Ke(){if(!X)throw new Error("Function called outside component initialization");return X}function Je(e){Ke().$$.on_mount.push(e)}const J=[],Ee=[];let Q=[];const Ae=[],Qe=Promise.resolve();let ae=!1;function Re(){ae||(ae=!0,Qe.then(Ie))}function ne(e){Q.push(e)}const ue=new Set;let H=0;function Ie(){if(H!==0)return;const e=X;do{try{for(;H<J.length;){const t=J[H];H++,W(t),Ve(t.$$)}}catch(t){throw J.length=0,H=0,t}for(W(null),J.length=0,H=0;Ee.length;)Ee.pop()();for(let t=0;t<Q.length;t+=1){const n=Q[t];ue.has(n)||(ue.add(n),n())}Q.length=0}while(J.length);for(;Ae.length;)Ae.pop()();ae=!1,ue.clear(),W(e)}function Ve(e){if(e.fragment!==null){e.update(),G(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ne)}}function We(e){const t=[],n=[];Q.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),Q=t}const Xe=new Set;function Ue(e,t){e&&e.i&&(Xe.delete(e),e.i(t))}function Ye(e,t){e.d(1),t.delete(e.key)}function Ze(e,t,n,l,o,u,p,a,m,s,A,d){let _=e.length,g=u.length,b=_;const S={};for(;b--;)S[e[b].key]=b;const C=[],L=new Map,T=new Map,$=[];for(b=g;b--;){const r=d(o,u,b),c=n(r);let y=p.get(c);y?l&&$.push(()=>y.p(r,t)):(y=s(c,r),y.c()),L.set(c,C[b]=y),c in S&&T.set(c,Math.abs(b-S[c]))}const D=new Set,O=new Set;function f(r){Ue(r,1),r.m(a,A),p.set(r.key,r),A=r.first,g--}for(;_&&g;){const r=C[g-1],c=e[_-1],y=r.key,F=c.key;r===c?(A=r.first,_--,g--):L.has(F)?!p.has(y)||D.has(y)?f(r):O.has(F)?_--:T.get(y)>T.get(F)?(O.add(y),f(r)):(D.add(F),_--):(m(c,p),_--)}for(;_--;){const r=e[_];L.has(r.key)||m(r,p)}for(;g;)f(C[g-1]);return G($),C}function xe(e,t,n,l){const{fragment:o,after_update:u}=e.$$;o&&o.m(t,n),l||ne(()=>{const p=e.$$.on_mount.map(De).filter(Ne);e.$$.on_destroy?e.$$.on_destroy.push(...p):G(p),e.$$.on_mount=[]}),u.forEach(ne)}function et(e,t){const n=e.$$;n.fragment!==null&&(We(n.after_update),G(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(e,t){e.$$.dirty[0]===-1&&(J.push(e),Re(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function nt(e,t,n,l,o,u,p,a=[-1]){const m=X;W(e);const s=e.$$={fragment:null,ctx:[],props:u,update:U,not_equal:o,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(m?m.$$.context:[])),callbacks:we(),dirty:a,skip_bound:!1,root:t.target||m.$$.root};p&&p(s.root);let A=!1;if(s.ctx=n?n(e,t.props||{},(d,_,...g)=>{const b=g.length?g[0]:_;return s.ctx&&o(s.ctx[d],s.ctx[d]=b)&&(!s.skip_bound&&s.bound[d]&&s.bound[d](b),A&&tt(e,d)),_}):[],s.update(),A=!0,G(s.before_update),s.fragment=l?l(s.ctx):!1,t.target){if(t.hydrate){const d=Ge(t.target);s.fragment&&s.fragment.l(d),d.forEach(le)}else s.fragment&&s.fragment.c();t.intro&&Ue(e.$$.fragment),xe(e,t.target,t.anchor,t.customElement),Ie()}W(m)}class lt{$destroy(){et(this,1),this.$destroy=U}$on(t,n){if(!Ne(n))return U;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!je(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ot(e){return window.go.internal.App.CreateTask(e)}function it(e){return window.go.internal.App.DeleteTask(e)}function st(){return window.go.internal.App.GetTasks()}function rt(e){return window.go.internal.App.UpdateTask(e)}const K=[];function ut(e,t=U){let n;const l=new Set;function o(a){if(qe(e,a)&&(e=a,n)){const m=!K.length;for(const s of l)s[1](),K.push(s,e);if(m){for(let s=0;s<K.length;s+=2)K[s][0](K[s+1]);K.length=0}}}function u(a){o(a(e))}function p(a,m=U){const s=[a,m];return l.add(s),l.size===1&&(n=t(o)||U),a(e),()=>{l.delete(s),l.size===0&&n&&(n(),n=null)}}return{set:o,update:u,subscribe:p}}function Me(e,t,n){const l=e.slice();return l[19]=t[n],l}function Pe(e,t){let n,l,o=t[19].title+"",u,p,a=t[19].priority+"",m,s,A,d,_,g=t[19].isCompleted?"Mark Incomplete":"Mark Complete",b,S,C,L,T,$,D;function O(){return t[16](t[19])}function f(){return t[17](t[19])}return{key:e,first:null,c(){n=k("li"),l=k("span"),u=E(o),p=E("      ("),m=E(a),s=E(")"),A=P(),d=k("div"),_=k("button"),b=E(g),S=P(),C=k("button"),C.textContent="Delete",L=P(),v(l,"class","task-content svelte-1h431u8"),v(_,"class","svelte-1h431u8"),v(C,"class","delete svelte-1h431u8"),v(d,"class","task-actions svelte-1h431u8"),v(n,"class",T=Ce(t[19].priority)+" svelte-1h431u8"),ce(n,"background-color",t[19].priority),j(n,"completed",t[19].isCompleted),this.first=n},m(r,c){fe(r,n,c),i(n,l),i(l,u),i(l,p),i(l,m),i(l,s),i(n,A),i(n,d),i(d,_),i(_,b),i(d,S),i(d,C),i(n,L),$||(D=[I(_,"click",O),I(C,"click",f)],$=!0)},p(r,c){t=r,c&32&&o!==(o=t[19].title+"")&&B(u,o),c&32&&a!==(a=t[19].priority+"")&&B(m,a),c&32&&g!==(g=t[19].isCompleted?"Mark Incomplete":"Mark Complete")&&B(b,g),c&32&&T!==(T=Ce(t[19].priority)+" svelte-1h431u8")&&v(n,"class",T),c&32&&ce(n,"background-color",t[19].priority),c&32&&j(n,"completed",t[19].isCompleted)},d(r){r&&le(n),$=!1,G(D)}}}function Se(e){let t;return{c(){t=k("p"),t.textContent="No tasks found for the current filter."},m(n,l){fe(n,t,l)},d(n){n&&le(t)}}}function ct(e){let t,n,l,o,u,p,a,m,s,A,d,_,g,b,S,C,L,T,$,D,O=e[2].length+"",f,r,c,y,F,Y=e[2].filter(Le).length+"",oe,de,pe,q,he,Z=e[2].filter(Oe).length+"",ie,_e,me,x,R,ee=e[1]?"Unsort Priority":"Sort by Priority",se,ge,V,N=[],be=new Map,ye,re,ke,te=e[5];const ve=h=>h[19].id;for(let h=0;h<te.length;h+=1){let w=Me(e,te,h),z=ve(w);be.set(z,N[h]=Pe(z,w))}let M=e[5].length===0&&Se();return{c(){t=k("main"),n=k("h1"),n.textContent="Task List",l=P(),o=k("form"),u=k("label"),p=E(`Task
      `),a=k("input"),m=P(),s=k("label"),A=E(`Priority
      `),d=k("select"),_=k("option"),_.textContent="High",g=k("option"),g.textContent="Medium",b=k("option"),b.textContent="Low",S=P(),C=k("button"),C.textContent="Add Task",L=P(),T=k("div"),$=k("button"),D=E("All ("),f=E(O),r=E(")"),c=P(),y=k("button"),F=E("To Do ("),oe=E(Y),de=E(")"),pe=P(),q=k("button"),he=E("Done ("),ie=E(Z),_e=E(")"),me=P(),x=k("div"),R=k("button"),se=E(ee),ge=P(),V=k("ul");for(let h=0;h<N.length;h+=1)N[h].c();ye=P(),M&&M.c(),v(a,"name","newTask"),v(a,"placeholder","Enter task name"),v(a,"class","svelte-1h431u8"),v(u,"class","svelte-1h431u8"),_.__value="high",_.value=_.__value,g.__value="medium",g.value=g.__value,b.__value="low",b.value=b.__value,v(d,"class","svelte-1h431u8"),e[3]===void 0&&ne(()=>e[11].call(d)),v(s,"class","svelte-1h431u8"),v(C,"type","submit"),v(C,"class","svelte-1h431u8"),v(o,"class","svelte-1h431u8"),v($,"class","svelte-1h431u8"),j($,"active",e[0]==="all"),v(y,"class","svelte-1h431u8"),j(y,"active",e[0]==="todo"),v(q,"class","svelte-1h431u8"),j(q,"active",e[0]==="done"),v(R,"class","svelte-1h431u8"),ce(x,"margin-top","10px"),v(V,"class","svelte-1h431u8"),v(t,"class","svelte-1h431u8")},m(h,w){fe(h,t,w),i(t,n),i(t,l),i(t,o),i(o,u),i(u,p),i(u,a),Te(a,e[4]),i(o,m),i(o,s),i(s,A),i(s,d),i(d,_),i(d,g),i(d,b),$e(d,e[3],!0),i(o,S),i(o,C),i(t,L),i(t,T),i(T,$),i($,D),i($,f),i($,r),i(T,c),i(T,y),i(y,F),i(y,oe),i(y,de),i(T,pe),i(T,q),i(q,he),i(q,ie),i(q,_e),i(t,me),i(t,x),i(x,R),i(R,se),i(t,ge),i(t,V);for(let z=0;z<N.length;z+=1)N[z]&&N[z].m(V,null);i(t,ye),M&&M.m(t,null),re||(ke=[I(a,"input",e[10]),I(d,"change",e[11]),I(o,"submit",Be(e[8])),I($,"click",e[12]),I(y,"click",e[13]),I(q,"click",e[14]),I(R,"click",e[15])],re=!0)},p(h,[w]){w&16&&a.value!==h[4]&&Te(a,h[4]),w&8&&$e(d,h[3]),w&4&&O!==(O=h[2].length+"")&&B(f,O),w&1&&j($,"active",h[0]==="all"),w&4&&Y!==(Y=h[2].filter(Le).length+"")&&B(oe,Y),w&1&&j(y,"active",h[0]==="todo"),w&4&&Z!==(Z=h[2].filter(Oe).length+"")&&B(ie,Z),w&1&&j(q,"active",h[0]==="done"),w&2&&ee!==(ee=h[1]?"Unsort Priority":"Sort by Priority")&&B(se,ee),w&672&&(te=h[5],N=Ze(N,w,ve,1,h,te,be,V,Ye,Pe,null,Me)),h[5].length===0?M||(M=Se(),M.c(),M.m(t,null)):M&&(M.d(1),M=null)},i:U,o:U,d(h){h&&le(t);for(let w=0;w<N.length;w+=1)N[w].d();M&&M.d(),re=!1,G(ke)}}}const Le=e=>!e.isCompleted,Oe=e=>e.isCompleted;function at(e,t,n){let l,o;const u=ut([]);ze(e,u,f=>n(2,o=f));let p="medium",a="",m="all",s=!1;Je(async()=>{const r=(await st()).map(c=>({...c,completed:c.isCompleted}));u.set(r)});const A=f=>{const r=o.find(c=>c.id===f.id);!r||(u.update(c=>c.map(y=>y.id===f.id?{...y,isCompleted:!r.isCompleted}:y)),rt(f.id))},d=()=>Date.now().toString(),_=async()=>{if(a.trim()){const f={id:d(),title:a.trim(),priority:p,isCompleted:!1};u.update(r=>[...r,f]),await ot({id:f.id,title:f.title,priority:f.priority}),n(4,a="")}},g=async f=>{try{await it(f),u.update(r=>r.filter(c=>c.id!==f))}catch(r){console.error("Failed to delete task:",r)}};function b(){a=this.value,n(4,a)}function S(){p=He(this),n(3,p)}const C=()=>n(0,m="all"),L=()=>n(0,m="todo"),T=()=>n(0,m="done"),$=()=>n(1,s=!s),D=f=>A(f),O=f=>g(f.id);return e.$$.update=()=>{e.$$.dirty&7&&n(5,l=o.filter(f=>{if(m==="all")return!0;if(m==="done")return f.isCompleted;if(m==="todo")return!f.isCompleted}).sort((f,r)=>{if(!s)return 0;const c={high:3,medium:2,low:1};return c[r.priority]-c[f.priority]}))},[m,s,o,p,a,l,u,A,_,g,b,S,C,L,T,$,D,O]}class ft extends lt{constructor(t){super(),nt(this,t,at,ct,qe,{})}}new ft({target:document.getElementById("app")});
